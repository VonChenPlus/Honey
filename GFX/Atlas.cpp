#include "Atlas.h"
#include <string.h>

namespace GFX
{
    const AtlasFont *Atlas::getFontByName(const char *name) const {
        for (int i = 0; i < num_fonts; i++) {
            if (!strcmp(name, fonts[i]->name))
                return fonts[i];
        }
        return 0;
    }

    const AtlasImage *Atlas::getImageByName(const char *name) const {
        for (int i = 0; i < num_images; i++) {
            if (!strcmp(name, images[i].name))
                return &images[i];
        }
        return 0;
    }

    const AtlasChar *AtlasFont::getChar(int utf32) const {
        for (int i = 0; i < numRanges; i++) {
            if (utf32 >= ranges[i].start && utf32 < ranges[i].end) {
                const AtlasChar *c = &charData[ranges[i].start_index + utf32 - ranges[i].start];
                if (c->ex == 0 && c->ey == 0)
                    return 0;
                else
                    return c;
            }
        }
        return 0;
    }

    const AtlasChar _FontUBUNTU24Chardata[] = {
    // RANGE: 0x20 - 0x80, start 0x22
        { 0.000000f, 0.000000f, 0.001953f, 0.001953f, -2.0000f, -4.0000f, 7.8125f, 1, 1 },  // 0020
        { 0.431641f, 0.687500f, 0.447266f, 0.744141f, 0.5625f, -28.1875f, 8.3750f, 8, 29 },  // 0021
        { 0.771484f, 0.619141f, 0.792969f, 0.644531f, 0.2500f, -29.5000f, 10.8750f, 11, 13 },  // 0022
        { 0.087891f, 0.578125f, 0.126953f, 0.634766f, 0.1250f, -28.1875f, 18.6250f, 20, 29 },  // 0023
        { 0.695313f, 0.564453f, 0.730469f, 0.634766f, -0.1875f, -32.1250f, 16.8125f, 18, 36 },  // 0024
        { 0.937500f, 0.558594f, 0.982422f, 0.615234f, -0.2500f, -28.5000f, 21.5000f, 23, 29 },  // 0025
        { 0.044922f, 0.566406f, 0.085938f, 0.623047f, -0.3125f, -28.5000f, 18.5000f, 21, 29 },  // 0026
        { 0.923828f, 0.591797f, 0.937500f, 0.615234f, -0.3125f, -29.5000f, 5.9375f, 7, 12 },  // 0027
        { 0.314453f, 0.634766f, 0.337891f, 0.712891f, 0.1250f, -31.2500f, 10.6875f, 12, 40 },  // 0028
        { 0.876953f, 0.650391f, 0.900391f, 0.728516f, -1.1250f, -31.2500f, 10.8125f, 12, 40 },  // 0029
        { 0.707031f, 0.167969f, 0.742188f, 0.203125f, -1.5625f, -28.1875f, 14.6250f, 18, 18 },  // 002a
        { 0.419922f, 0.363281f, 0.455078f, 0.406250f, -0.6250f, -24.0000f, 16.8750f, 18, 22 },  // 002b
        { 0.521484f, 0.640625f, 0.539063f, 0.666016f, -1.5625f, -7.6875f, 6.6875f, 9, 13 },  // 002c
        { 0.691406f, 0.695313f, 0.712891f, 0.708984f, -1.2500f, -15.5000f, 8.4375f, 11, 7 },  // 002d
        { 0.404297f, 0.671875f, 0.419922f, 0.687500f, 0.3750f, -7.5000f, 8.9375f, 8, 8 },  // 002e
        { 0.447266f, 0.660156f, 0.476563f, 0.720703f, -1.5000f, -28.1875f, 12.6250f, 15, 31 },  // 002f
        { 0.279297f, 0.634766f, 0.312500f, 0.691406f, -0.1250f, -28.5000f, 16.8125f, 17, 29 },  // 0030
        { 0.279297f, 0.693359f, 0.302734f, 0.750000f, 0.6250f, -28.3125f, 16.8125f, 12, 29 },  // 0031
        { 0.730469f, 0.490234f, 0.765625f, 0.546875f, -0.5000f, -28.5000f, 16.8125f, 18, 29 },  // 0032
        { 0.070313f, 0.636719f, 0.103516f, 0.693359f, -0.3750f, -28.5000f, 16.8125f, 17, 29 },  // 0033
        { 0.447266f, 0.601563f, 0.484375f, 0.658203f, -1.0000f, -28.1875f, 16.8125f, 19, 29 },  // 0034
        { 0.105469f, 0.636719f, 0.138672f, 0.693359f, 0.3750f, -28.1875f, 16.8125f, 17, 29 },  // 0035
        { 0.140625f, 0.636719f, 0.173828f, 0.693359f, 0.1875f, -28.1875f, 16.8125f, 17, 29 },  // 0036
        { 0.962891f, 0.617188f, 0.998047f, 0.673828f, -0.6250f, -28.1875f, 16.8125f, 18, 29 },  // 0037
        { 0.175781f, 0.636719f, 0.208984f, 0.693359f, -0.0625f, -28.5000f, 16.8125f, 17, 29 },  // 0038
        { 0.689453f, 0.636719f, 0.722656f, 0.693359f, -0.3125f, -28.5000f, 16.8125f, 17, 29 },  // 0039
        { 0.193359f, 0.695313f, 0.208984f, 0.740234f, 0.2500f, -22.1875f, 7.9375f, 8, 23 },  // 003a
        { 0.671875f, 0.683594f, 0.689453f, 0.736328f, -1.3125f, -22.1875f, 6.8750f, 9, 27 },  // 003b
        { 0.744141f, 0.167969f, 0.775391f, 0.205078f, -0.7500f, -22.2500f, 15.1875f, 16, 19 },  // 003c
        { 0.539063f, 0.582031f, 0.570313f, 0.609375f, 0.4375f, -20.1875f, 16.3125f, 16, 14 },  // 003d
        { 0.777344f, 0.167969f, 0.808594f, 0.205078f, 0.2500f, -22.2500f, 15.6250f, 16, 19 },  // 003e
        { 0.339844f, 0.671875f, 0.371094f, 0.728516f, -0.6875f, -28.5000f, 14.3750f, 16, 29 },  // 003f
        { 0.146484f, 0.375000f, 0.199219f, 0.445313f, -0.2500f, -27.7500f, 26.1250f, 27, 36 },  // 0040
        { 0.648438f, 0.564453f, 0.693359f, 0.621094f, -1.3125f, -28.1875f, 19.5625f, 23, 29 },  // 0041
        { 0.617188f, 0.623047f, 0.652344f, 0.679688f, 0.5625f, -28.1875f, 18.5625f, 18, 29 },  // 0042
        { 0.128906f, 0.578125f, 0.167969f, 0.634766f, 0.0000f, -28.5000f, 19.2500f, 20, 29 },  // 0043
        { 0.341797f, 0.613281f, 0.378906f, 0.669922f, 0.5625f, -28.1875f, 19.4375f, 19, 29 },  // 0044
        { 0.486328f, 0.640625f, 0.519531f, 0.697266f, 0.5625f, -28.1875f, 16.8750f, 17, 29 },  // 0045
        { 0.771484f, 0.650391f, 0.804688f, 0.707031f, 0.5625f, -28.1875f, 16.3125f, 17, 29 },  // 0046
        { 0.169922f, 0.578125f, 0.208984f, 0.634766f, 0.0000f, -28.5000f, 20.0625f, 20, 29 },  // 0047
        { 0.498047f, 0.582031f, 0.537109f, 0.638672f, 0.5625f, -28.1875f, 21.0625f, 20, 29 },  // 0048
        { 0.154297f, 0.695313f, 0.167969f, 0.751953f, 0.6875f, -28.1875f, 8.5000f, 7, 29 },  // 0049
        { 0.806641f, 0.650391f, 0.839844f, 0.707031f, -1.0625f, -28.1875f, 16.4375f, 17, 29 },  // 004a
        { 0.800781f, 0.591797f, 0.839844f, 0.648438f, 0.5625f, -28.1875f, 18.5000f, 20, 29 },  // 004b
        { 0.841797f, 0.650391f, 0.875000f, 0.707031f, 0.5625f, -28.1875f, 16.1250f, 17, 29 },  // 004c
        { 0.447266f, 0.542969f, 0.496094f, 0.599609f, 0.5625f, -28.1875f, 25.6875f, 25, 29 },  // 004d
        { 0.841797f, 0.591797f, 0.880859f, 0.648438f, 0.5625f, -28.1875f, 21.0625f, 20, 29 },  // 004e
        { 0.212891f, 0.576172f, 0.253906f, 0.632813f, 0.0625f, -28.5000f, 20.4375f, 21, 29 },  // 004f
        { 0.380859f, 0.613281f, 0.417969f, 0.669922f, 0.5625f, -28.1875f, 18.8125f, 19, 29 },  // 0050
        { 0.212891f, 0.250000f, 0.253906f, 0.314453f, -0.1250f, -28.5000f, 20.4375f, 21, 33 },  // 0051
        { 0.539063f, 0.613281f, 0.576172f, 0.669922f, 0.5625f, -28.1875f, 18.0625f, 19, 29 },  // 0052
        { 0.578125f, 0.613281f, 0.615234f, 0.669922f, -0.6250f, -28.5000f, 17.6250f, 19, 29 },  // 0053
        { 0.882813f, 0.591797f, 0.921875f, 0.648438f, -1.0625f, -28.1875f, 17.6875f, 20, 29 },  // 0054
        { 0.923828f, 0.617188f, 0.960938f, 0.673828f, 0.1250f, -28.1875f, 19.0625f, 19, 29 },  // 0055
        { 0.000000f, 0.566406f, 0.042969f, 0.623047f, -1.3125f, -28.1875f, 19.0625f, 22, 29 },  // 0056
        { 0.943359f, 0.105469f, 0.998047f, 0.162109f, -0.8750f, -28.1875f, 25.8750f, 28, 29 },  // 0057
        { 0.255859f, 0.576172f, 0.296875f, 0.632813f, -0.8750f, -28.1875f, 18.7500f, 21, 29 },  // 0058
        { 0.298828f, 0.576172f, 0.339844f, 0.632813f, -1.5625f, -28.1875f, 17.8125f, 21, 29 },  // 0059
        { 0.732422f, 0.619141f, 0.769531f, 0.675781f, -0.5000f, -28.1875f, 17.7500f, 19, 29 },  // 005a
        { 0.972656f, 0.675781f, 0.992188f, 0.748047f, 0.2500f, -31.6250f, 8.5000f, 10, 37 },  // 005b
        { 0.246094f, 0.634766f, 0.277344f, 0.695313f, -1.1875f, -28.1875f, 12.5625f, 16, 31 },  // 005c
        { 0.650391f, 0.683594f, 0.669922f, 0.755859f, -1.5625f, -31.6250f, 8.5000f, 10, 37 },  // 005d
        { 0.341797f, 0.576172f, 0.371094f, 0.609375f, -0.8750f, -28.1875f, 12.6250f, 15, 17 },  // 005e
        { 0.210938f, 0.695313f, 0.244141f, 0.708984f, -1.6250f, -4.0000f, 13.7500f, 17, 7 },  // 005f
        { 0.902344f, 0.650391f, 0.923828f, 0.667969f, -1.0625f, -29.4375f, 10.5000f, 11, 9 },  // 0060
        { 0.964844f, 0.406250f, 0.998047f, 0.451172f, -0.1250f, -22.3125f, 16.3125f, 17, 23 },  // 0061
        { 0.964844f, 0.164063f, 0.998047f, 0.222656f, 0.1875f, -29.5000f, 16.7500f, 17, 30 },  // 0062
        { 0.300781f, 0.494141f, 0.333984f, 0.539063f, -0.4375f, -22.3125f, 15.6875f, 17, 23 },  // 0063
        { 0.964844f, 0.224609f, 0.998047f, 0.283203f, -0.4375f, -29.5000f, 16.8750f, 17, 30 },  // 0064
        { 0.580078f, 0.671875f, 0.613281f, 0.716797f, -0.3750f, -22.3125f, 15.9375f, 17, 23 },  // 0065
        { 0.521484f, 0.671875f, 0.548828f, 0.730469f, -0.8750f, -29.8750f, 10.7500f, 14, 30 },  // 0066
        { 0.964844f, 0.285156f, 0.998047f, 0.343750f, -0.4375f, -22.3125f, 16.7500f, 17, 30 },  // 0067
        { 0.964844f, 0.345703f, 0.998047f, 0.404297f, 0.1875f, -29.5000f, 16.4375f, 17, 30 },  // 0068
        { 0.080078f, 0.695313f, 0.095703f, 0.751953f, 0.2500f, -28.5000f, 7.8125f, 8, 29 },  // 0069
        { 0.000000f, 0.685547f, 0.019531f, 0.755859f, -2.3750f, -28.5000f, 7.6250f, 10, 36 },  // 006a
        { 0.654297f, 0.623047f, 0.687500f, 0.681641f, 0.1875f, -29.5000f, 15.3125f, 17, 30 },  // 006b
        { 0.984375f, 0.558594f, 0.998047f, 0.617188f, 0.3750f, -29.5000f, 7.8125f, 7, 30 },  // 006c
        { 0.765625f, 0.400391f, 0.816406f, 0.445313f, 0.1875f, -22.3125f, 25.5625f, 26, 23 },  // 006d
        { 0.902344f, 0.675781f, 0.935547f, 0.720703f, 0.1250f, -22.3125f, 16.4375f, 17, 23 },  // 006e
        { 0.212891f, 0.316406f, 0.248047f, 0.361328f, -0.4375f, -22.3125f, 17.0625f, 18, 23 },  // 006f
        { 0.000000f, 0.625000f, 0.033203f, 0.683594f, 0.1875f, -22.3125f, 16.7500f, 17, 30 },  // 0070
        { 0.035156f, 0.625000f, 0.068359f, 0.683594f, -0.4375f, -22.3125f, 17.0000f, 17, 30 },  // 0071
        { 0.054688f, 0.695313f, 0.078125f, 0.740234f, 0.1250f, -22.3125f, 10.3125f, 12, 23 },  // 0072
        { 0.937500f, 0.675781f, 0.970703f, 0.720703f, -0.3750f, -22.3125f, 15.5000f, 17, 23 },  // 0073
        { 0.404297f, 0.687500f, 0.429688f, 0.740234f, -1.6250f, -26.3125f, 10.0625f, 13, 27 },  // 0074
        { 0.724609f, 0.677734f, 0.757813f, 0.722656f, 0.1250f, -21.9375f, 16.4375f, 17, 23 },  // 0075
        { 0.615234f, 0.681641f, 0.648438f, 0.724609f, -1.2500f, -21.9375f, 14.5625f, 17, 22 },  // 0076
        { 0.212891f, 0.494141f, 0.261719f, 0.537109f, -1.1875f, -21.9375f, 22.1250f, 25, 22 },  // 0077
        { 0.263672f, 0.494141f, 0.298828f, 0.537109f, -1.1875f, -21.9375f, 14.9375f, 18, 22 },  // 0078
        { 0.210938f, 0.634766f, 0.244141f, 0.693359f, -1.4375f, -21.9375f, 14.1875f, 17, 30 },  // 0079
        { 0.021484f, 0.685547f, 0.052734f, 0.728516f, -0.5000f, -21.9375f, 14.9375f, 16, 22 },  // 007a
        { 0.466797f, 0.238281f, 0.492188f, 0.310547f, -0.8125f, -30.5000f, 10.4375f, 13, 37 },  // 007b
        { 0.097656f, 0.695313f, 0.111328f, 0.759766f, 0.8750f, -28.1875f, 8.3125f, 7, 33 },  // 007c
        { 0.419922f, 0.613281f, 0.445313f, 0.685547f, -1.3750f, -30.5000f, 10.4375f, 13, 37 },  // 007d
        { 0.113281f, 0.695313f, 0.152344f, 0.716797f, 0.0625f, -17.3750f, 20.0625f, 20, 11 },  // 007e
        { 0.550781f, 0.671875f, 0.578125f, 0.728516f, -0.3125f, -28.1875f, 13.3125f, 14, 29 },  // 007f
        // RANGE: 0xfffd - 0xfffe, start 0x82
        { 0.501953f, 0.482422f, 0.572266f, 0.580078f, -0.5000f, -39.9375f, 34.8750f, 36, 50 },  // fffd
    };

    const AtlasCharRange _FontUBUNTU24Ranges[] = {
        { 32, 128, 0 },
        { 65533, 65534, 96 },
    };
    const AtlasFont _FontUBUNTU24 = {
        - 10.125000f, // padding
        50.000000f, // height
        37.937500f, // ascend
        0.750000f, // distslope
        _FontUBUNTU24Chardata,
        _FontUBUNTU24Ranges,
        2,
        "UBUNTU24", // name
    };
    const AtlasFont *_UIFonts[1] = {
      &_FontUBUNTU24,
    };

    const AtlasImage _UIImages[] = {
        { 0.180664f, 0.448242f, 0.209961f, 0.477539f, 16, 16, "I_SOLIDWHITE" },
        { 0.657227f, 0.491211f, 0.727539f, 0.561523f, 37, 37, "I_CROSS" },
        { 0.747070f, 0.323242f, 0.821289f, 0.397461f, 39, 39, "I_CIRCLE" },
        { 0.377930f, 0.543945f, 0.444336f, 0.610352f, 35, 35, "I_SQUARE" },
        { 0.575195f, 0.491211f, 0.653320f, 0.557617f, 41, 35, "I_TRIANGLE" },
        { 0.213867f, 0.543945f, 0.374023f, 0.573242f, 83, 16, "I_SELECT" },
        { 0.801758f, 0.559570f, 0.934570f, 0.588867f, 69, 16, "I_START" },
        { 0.374023f, 0.672852f, 0.401367f, 0.729492f, 15, 30, "I_ARROW" },
        { 0.000977f, 0.483398f, 0.114258f, 0.563477f, 59, 42, "I_DIR" },
        { 0.887695f, 0.454102f, 0.991211f, 0.555664f, 54, 53, "I_ROUND" },
        { 0.346680f, 0.483398f, 0.499023f, 0.540039f, 79, 30, "I_RECT" },
        { 0.708008f, 0.000977f, 0.875977f, 0.165039f, 87, 85, "I_STICK" },
        { 0.254883f, 0.000977f, 0.493164f, 0.235352f, 123, 121, "I_STICK_BG" },
        { 0.346680f, 0.413086f, 0.569336f, 0.479492f, 115, 35, "I_SHOULDER" },
        { 0.000977f, 0.375977f, 0.143555f, 0.479492f, 74, 54, "I_DIR_LINE" },
        { 0.213867f, 0.364258f, 0.342773f, 0.491211f, 67, 66, "I_ROUND_LINE" },
        { 0.573242f, 0.413086f, 0.762695f, 0.487305f, 98, 39, "I_RECT_LINE" },
        { 0.467773f, 0.323242f, 0.743164f, 0.409180f, 142, 45, "I_SHOULDER_LINE" },
        { 0.497070f, 0.000977f, 0.704102f, 0.204102f, 107, 105, "I_STICK_LINE" },
        { 0.000977f, 0.000977f, 0.250977f, 0.247070f, 129, 127, "I_STICK_BG_LINE" },
        { 0.731445f, 0.549805f, 0.797852f, 0.616211f, 35, 35, "I_CHECKEDBOX" },
        { 0.254883f, 0.239258f, 0.463867f, 0.360352f, 108, 63, "I_BG" },
        { 0.000977f, 0.250977f, 0.209961f, 0.372070f, 108, 63, "I_BG_GOLD" },
        { 0.170898f, 0.696289f, 0.190430f, 0.729492f, 11, 18, "I_L" },
        { 0.147461f, 0.448242f, 0.176758f, 0.481445f, 16, 18, "I_R" },
        { 0.118164f, 0.483398f, 0.209961f, 0.575195f, 48, 48, "I_DROP_SHADOW" },
        { 0.575195f, 0.561523f, 0.645508f, 0.610352f, 37, 26, "I_LINES" },
        { 0.346680f, 0.364258f, 0.416992f, 0.411133f, 37, 25, "I_GRID" },
        { 0.498046f, 0.230468f, 0.707031f, 0.300781f, 107, 36, "I_LOGO" },
        { 0.824218f, 0.158203f, 0.957031f, 0.292968f, 68, 69, "I_ICON" },
        { 0.879883f, 0.000977f, 0.993164f, 0.102539f, 59, 53, "I_FOLDER" },
        { 0.766602f, 0.454102f, 0.883789f, 0.545898f, 61, 48, "I_UP_DIRECTORY" },
        { 0.879883f, 0.106445f, 0.940430f, 0.166992f, 32, 32, "I_GEAR" },
    };

    Atlas _UIAtlas = { GFX::_UIFonts, 1, _UIImages, 34 };
}

